"use strict";(self.webpackChunkacademix=self.webpackChunkacademix||[]).push([[488],{8488:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(4165),a=n(5861),o=n(9439),s=n(2791),i=n(1889),c=n(890),d=n(4554),u=n(7391),p=n(3466),l=n(3400),f=n(533),h=n(7194),g=n(6616),w=n(5206),m=(n(5462),n(4096));function x(e){this.message=e}x.prototype=new Error,x.prototype.name="InvalidCharacterError";var v="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new x("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,a=0,o=0,s="";r=t.charAt(o++);~r&&(n=a%4?64*n+r:r,a++%4)?s+=String.fromCharCode(255&n>>(-2*a&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function b(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(v(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return v(t)}}function Z(e){this.message=e}Z.prototype=new Error,Z.prototype.name="InvalidTokenError";var y=function(e,t){if("string"!=typeof e)throw new Z("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(b(e.split(".")[n]))}catch(e){throw new Z("Invalid token specified: "+e.message)}},j=n(654),k=n(4596),C=n(1087),I=n(7689),P=n(184);function S(){var e=(0,C.lr)(),t=(0,o.Z)(e,1)[0],n=(0,I.s0)(),x=s.useState(),v=(0,o.Z)(x,2),b=v[0],Z=v[1],S=s.useState(),A=(0,o.Z)(S,2),E=A[0],R=A[1],D=s.useState(!1),L=(0,o.Z)(D,2),T=L[0],q=L[1];s.useEffect((function(){try{y(t.get("token")).data.userIdentityVerified||n("/wrong-page")}catch(e){n("/wrong-page")}}),[]);var z=function(e,t){"password"===t&&Z(e.target.value),"confirm"===t&&R(e.target.value)},O=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,o,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={email:"chibezprince@gmail.com",password:b},o=w.Am.loading("Resetting password..."),b===E){e.next=5;break}return e.abrupt("return",w.Am.update(o,{render:"Passwords not equal",type:"error",isLoading:!1,autoClose:2e3}));case 5:return e.prev=5,e.next=8,m.Z.post("/reset-password",JSON.stringify(a),{headers:{"Content-Type":"application/json"}});case 8:s=e.sent,w.Am.update(o,{render:s.data.message,type:"success",isLoading:!1,autoClose:1e3}),setTimeout((function(){n("/reset-password-successfull")}),1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),w.Am.update(o,{render:e.t0.response.data.message||e.t0.message,type:"error",isLoading:!1,autoClose:2e3});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){return q((function(e){return!e}))},W=function(e){e.preventDefault()};return(0,P.jsxs)(i.ZP,{container:!0,component:"main",sx:{px:3,height:"100vh",backgroundImage:"url(".concat(k,")"),backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center",alignItems:"center",justifyContent:"flex-start"},children:[(0,P.jsxs)(i.ZP,{md:5,maxWidth:"500px",sx:{px:5,py:6,display:"flex",flexDirection:"column",background:"white",borderRadius:"0px 0px 0px 50px",justifyContent:"center"},children:[(0,P.jsx)(c.Z,{component:"h1",variant:"h5",children:"Reset Password"}),(0,P.jsxs)(d.Z,{component:"form",noValidate:!0,onSubmit:O,sx:{mt:1},children:[(0,P.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,P.jsx)(i.ZP,{item:!0,xs:12,children:(0,P.jsx)(u.Z,{variant:"standard",required:!0,fullWidth:!0,name:"password",label:"Enter a new password",onChange:function(e){return z(e,"password")},type:T?"text":"password",id:"password",autoComplete:"new-password",InputProps:{endAdornment:(0,P.jsx)(p.Z,{position:"end",children:(0,P.jsx)(l.Z,{"aria-label":"toggle password visibility",onClick:U,onMouseDown:W,children:T?(0,P.jsx)(h.Z,{}):(0,P.jsx)(g.Z,{})})})}})}),(0,P.jsx)(i.ZP,{item:!0,xs:12,children:(0,P.jsx)(u.Z,{variant:"standard",required:!0,fullWidth:!0,name:"password",label:"Confirm new password",onChange:function(e){return z(e,"confirm")},type:T?"text":"password",id:"new-password",autoComplete:"new-password",InputProps:{endAdornment:(0,P.jsx)(p.Z,{position:"end",children:(0,P.jsx)(l.Z,{"aria-label":"toggle password visibility",onClick:U,onMouseDown:W,children:T?(0,P.jsx)(h.Z,{}):(0,P.jsx)(g.Z,{})})})}})})]}),(0,P.jsx)(j.C7,{}),(0,P.jsx)(i.ZP,{container:!0,justifyContent:"center",children:(0,P.jsxs)(i.ZP,{item:!0,children:["Back to"," ",(0,P.jsx)(f.Z,{href:"#",variant:"body2",children:"Sign in"})]})})]})]}),(0,P.jsx)(w.Ix,{})]})}},4096:function(e,t,n){var r=n(1243).Z.create({baseURL:"https://academix-api.onrender.com/api/v1",timeout:1e4,headers:{Authorization:localStorage.getItem("token")}});t.Z=r}}]);
//# sourceMappingURL=488.d95c543e.chunk.js.map