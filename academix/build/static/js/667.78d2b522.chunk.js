"use strict";(self.webpackChunkacademix=self.webpackChunkacademix||[]).push([[667],{688:function(e,t,n){n.d(t,{b:function(){return a}});var a=["Web Development","Business","Finance","IT & Software","Office Productivity","Office Development","Design","Marketing","Lifestyle","Photography and Video","Music","Health & Fitness","Teaching and Academics","Leadership","Relationship","Branding"]},3667:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var a=n(4165),r=n(5861),s=n(3433),i=n(9439),o=n(2791),u=n(1889),l=n(4554),c=n(890),d=n(7391),m=n(3466),p=n(3400),f=n(4721),g=n(533),x=n(5289),h=n(5661),Z=n(9157),v=n(1691),j=n(5523),y=n(4454),w=n(7123),b=n(6151),C=n(7194),k=n(6616),S=n(5206),P=(n(5462),n(4096)),A=n(1230),I=n(1087),R=n(7689),L=n(654),N=n(4596),W=n(688),D=n(184);function q(){var e=(0,I.lr)(),t=(0,i.Z)(e,1)[0],n=(0,R.s0)(),q=o.useContext(A.V).setUser,O=o.useState(!1),T=(0,i.Z)(O,2),F=T[0],U=T[1],M=o.useState(),B=(0,i.Z)(M,2),E=B[0],J=B[1],z=o.useState(),H=(0,i.Z)(z,2),V=H[0],_=H[1],G=o.useState(),K=(0,i.Z)(G,2),Q=K[0],X=K[1],Y=o.useState([]),$=(0,i.Z)(Y,2),ee=$[0],te=$[1],ne=o.useState("student"),ae=(0,i.Z)(ne,2),re=ae[0],se=ae[1],ie=o.useState(),oe=(0,i.Z)(ie,2),ue=oe[0],le=oe[1],ce=o.useState(!1),de=(0,i.Z)(ce,2),me=de[0],pe=de[1];o.useEffect((function(){if(!t.get("registerAs"))return n("/join-as");se(t.get("registerAs"))}));var fe=function(e,t){"firstname"===t&&J(e.target.value),"lastname"===t&&_(e.target.value),"email"===t&&X(e.target.value),"password"===t&&le(e.target.value)},ge=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var r,s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=S.Am.loading("We're Registering you..."),e.prev=2,0!==ee.length){e.next=5;break}throw new Error("Please select at least one category");case 5:return s={firstname:E,lastname:V,email:Q,password:ue,userLevel:re,user_interests:ee},e.next=8,P.Z.post("/signup",JSON.stringify(s),{headers:{"Content-Type":"application/json"}});case 8:return"user created"===(i=e.sent).data.message&&(o="Registration successfull"),localStorage.setItem("token",i.data.data.token),localStorage.setItem("expiresIn",(new Date).getUTCHours()+1),q(JSON.stringify(i.data.data.newUser)),localStorage.setItem("user",JSON.stringify(i.data.data.newUser)),S.Am.update(r,{render:o,type:"success",isLoading:!1,autoClose:2e3}),pe(!1),n("/"),e.abrupt("return",void setTimeout((function(){localStorage.clear("token")}),86400));case 20:if(e.prev=20,e.t0=e.catch(2),!e.t0.message){e.next=30;break}if(e.t0.message,"timeout of 10000ms exceeded"!==e.t0.message){e.next=29;break}return"Request timeout",e.abrupt("return",S.Am.update(r,{render:"Request timeout",type:"error",isLoading:!1,autoClose:2e3}));case 29:"Request failed with status code 400"===e.t0.message?e.t0.response.data.message&&S.Am.update(r,{render:e.t0.response.data.message,type:"error",isLoading:!1,autoClose:2e3}):S.Am.update(r,{render:e.t0.message,type:"error",isLoading:!1,autoClose:2e3});case 30:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();return(0,D.jsxs)(u.ZP,{container:!0,component:"main",sx:{px:4,height:"100vh",backgroundImage:"url(".concat(N,")"),backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center",alignItems:"center",justifyContent:"flex-start"},children:[(0,D.jsxs)(l.Z,{maxWidth:"500px",sx:{mx:1,p:5,display:"flex",flexDirection:"column",background:"white",borderRadius:"0px 0px 0px 50px"},children:[(0,D.jsx)(c.Z,{component:"h1",variant:"h4",children:"Sign up"}),(0,D.jsxs)("div",{children:[(0,D.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,D.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,D.jsx)(d.Z,{variant:"standard",autoComplete:"given-name",name:"firstName",onChange:function(e){return fe(e,"firstname")},required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,D.jsx)(d.Z,{variant:"standard",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",onChange:function(e){return fe(e,"lastname")},autoComplete:"family-name"})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,children:(0,D.jsx)(d.Z,{variant:"standard",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:function(e){return fe(e,"email")},autoComplete:"email"})}),(0,D.jsx)(u.ZP,{item:!0,xs:12,children:(0,D.jsx)(d.Z,{variant:"standard",required:!0,fullWidth:!0,name:"password",onChange:function(e){return fe(e,"password")},label:"Password",type:F?"text":"password",id:"password",autoComplete:"new-password",InputProps:{endAdornment:(0,D.jsx)(m.Z,{position:"end",children:(0,D.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:function(){return U((function(e){return!e}))},onMouseDown:function(e){e.preventDefault()},children:F?(0,D.jsx)(C.Z,{}):(0,D.jsx)(k.Z,{})})})}})})]}),(0,D.jsx)(L.BM,{submit:function(){return pe(!0)}}),(0,D.jsx)(f.Z,{children:(0,D.jsx)(c.Z,{variant:"body2",sx:{color:"text.secondary"},children:"OR"})}),(0,D.jsx)(u.ZP,{container:!0,justifyContent:"center",children:(0,D.jsxs)(u.ZP,{item:!0,textAlign:"center",children:["Already have an account?"," ",(0,D.jsx)(g.Z,{href:"/signin",variant:"body2",children:"Sign in"})]})})]})]}),(0,D.jsx)(S.Ix,{}),(0,D.jsxs)(x.Z,{open:me,onClose:function(){return pe(!1)},children:[(0,D.jsx)(h.Z,{children:"Select area of interests"}),(0,D.jsxs)(Z.Z,{children:[(0,D.jsx)(v.Z,{children:"We will use your selected areas of interest to fetch courses whose category falls within your interest"}),(0,D.jsx)("div",{style:{width:"100%",marginTop:14,display:"flex",flexFlow:"row",justifyContent:"center",flexWrap:"wrap"},children:W.b.map((function(e,t){return(0,D.jsx)(j.Z,{checked:ee.includes(e),onChange:function(e){return function(e,t){var n=e.target.value,a=(0,s.Z)(ee);if(a.includes(n))return a=a.filter((function(e){return e!==n})),te(a);a.push(n),te(a)}(e)},style:{width:"fit-content",padding:8},control:(0,D.jsx)(y.Z,{}),label:e,value:e},t)}))})]}),(0,D.jsx)(w.Z,{children:(0,D.jsx)(b.Z,{onClick:ge,children:"Signup"})})]})]})}},4096:function(e,t,n){var a=n(1243).Z.create({baseURL:"https://academix-api.onrender.com/api/v1",timeout:1e4,headers:{Authorization:localStorage.getItem("token")}});t.Z=a}}]);
//# sourceMappingURL=667.78d2b522.chunk.js.map